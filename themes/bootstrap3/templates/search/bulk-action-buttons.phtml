<?php if (isset($this->showCheckboxes) && $this->showCheckboxes): ?>
  <nav class="bulkActionButtons">
    <div class="bulk-checkbox">
      <input type="checkbox" class="checkbox-select-all" name="selectAll" id="<?=$this->idPrefix?>addFormCheckboxSelectAll"<?php if ($this->formAttr): ?> form="<?=$this->escapeHtmlAttr($this->formAttr) ?>"<?php endif; ?>>
      <label for="<?=$this->idPrefix?>addFormCheckboxSelectAll"><?=$this->transEsc('select_all_on_page')?></label>
    </div>
    <ul class="action-toolbar">
      <?php if (isset($this->showBulkOptions) && $this->showBulkOptions): ?>
        <?=
          $this->bulkAction()->button(
              'email',
              'send-email',
              'Email',
              array_merge(
                  [
                    'id' => $this->idPrefix . 'ribbon-email',
                    'title' => $this->translate('bookbag_email_selected'),
                  ],
                  $this->formAttr ? ['form' => $this->formAttr] : []
              )
          )
        ?>
        <?php $exportOptions = $this->export()->getActiveFormats('bulk'); ?>
        <?php if (count($exportOptions) > 0): ?>
          <?=
            $this->bulkAction()->button(
                'export',
                'export',
                'Export',
                array_merge(
                    [
                      'id' => $this->idPrefix . 'ribbon-export',
                      'title' => $this->translate('bookbag_export_selected'),
                    ],
                    $this->formAttr ? ['form' => $this->formAttr] : []
                )
            )
          ?>
        <?php endif; ?>
        <?=
          $this->bulkAction()->button(
              'print',
              'print',
              'Print',
              array_merge(
                  [
                    'id' => $this->idPrefix . 'ribbon-print',
                    'title' => $this->translate('bookbag_print_selected'),
                  ],
                  $this->formAttr ? ['form' => $this->formAttr] : []
              )
          )
        ?>
        <?php if ($this->userlist()->getMode() !== 'disabled'): ?>
          <?=
            $this->bulkAction()->button(
                'saveCart',
                'user-list-add',
                'Save',
                array_merge(
                    [
                      'id' => $this->idPrefix . 'ribbon-save',
                      'title' => $this->translate('bookbag_save_selected'),
                    ],
                    $this->formAttr ? ['form' => $this->formAttr] : []
                )
            )
          ?>
        <?php endif; ?>
      <?php endif; ?>
      <?php if (isset($this->showCartControls) && $this->showCartControls): ?>
        <?=
          $this->bulkAction()->button(
              'add',
              'cart-add',
              'Add to Book Bag',
              array_merge(
                  [
                    'id' => $this->idPrefix . 'updateCart',
                  ],
                  $this->formAttr ? ['form' => $this->formAttr] : []
              )
          )
        ?>
      <?php endif; ?>
    </ul>
  </nav>
<?php endif; ?>
